<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SMBus Protocol & smbus2 Python Library</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0b1220;
      --card: #0f1720;
      --muted: #98a0ab;
      --accent: #06b6d4;
      --glass: rgba(255,255,255,0.03);
    }
    html,body { height:100%; }
    body {
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, var(--bg) 0%, #07101a 100%);
      color: #e6eef6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    /* Override header font to match index.html */
    #site-header {
      font-family: 'Courier New', Courier;
    }
    pre code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace; }
    .glow {
      box-shadow: 0 8px 24px rgba(0,0,0,0.6), 0 0 30px rgba(6,182,212,0.05);
      border: 1px solid rgba(255,255,255,0.04);
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015));
    }
    .smbus-accent { color: #8b5cf6; }
    .i2c-accent { color: #3b82f6; }
    .step-box {
      background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
      border: 1px solid rgba(139, 92, 246, 0.3);
    }
  </style>
</head>
<body class="min-h-screen antialiased">
    <main class="max-w-6xl mx-auto p-6 lg:p-12">
        <div id="site-header"></div>
        
        <!-- Header / Hero -->
        <header class="mb-8">
            <div class="flex items-start justify-between gap-6">
                <div>
                    <h1 class="text-3xl md:text-4xl font-semibold">SMBus Protocol & smbus2</h1>
                    <p class="mt-2 text-sm text-gray-300 max-w-2xl">
                        System Management Bus (SMBus) is a subset of I²C with stricter rules and enhanced 
                        features. The smbus2 Python library provides a clean interface for SMBus communication 
                        with sensors, motor controllers, and other embedded devices.
                    </p>

                    <div class="mt-4 flex flex-wrap gap-2 items-center">
                        <span class="text-xs text-muted ml-3 text-gray-400">System Management • I2C Extensions • Python Libraries</span>
                    </div>
                </div>

                <div class="hidden md:block text-right">
                    <div class="glow rounded-xl p-4 w-56">
                        <div class="text-xs text-gray-300">Protocol</div>
                        <div class="mt-1 text-sm font-medium">SMBus (System Management Bus)</div>

                        <div class="mt-4 text-xs text-gray-300">Key Features</div>
                        <div class="mt-1 space-y-1 text-sm text-gray-200">
                            <div>• I²C with stricter timing</div>
                            <div>• Packet Error Checking</div>
                            <div>• Host-centric design</div>
                            <div>• Python smbus2 library</div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Main column -->
            <section class="lg:col-span-2 space-y-6">
                <article class="glow rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-3">What is SMBus?</h2>
                    
                    <p class="text-gray-300 leading-relaxed mb-4">
                        <strong>SMBus (System Management Bus)</strong> is a Python package that you can pip install, 
                        providing functions to read and write data to other devices. But more fundamentally, 
                        it implements the <strong>SMBus protocol</strong>, which is built on top of the I²C protocol.
                    </p>

                    <div class="bg-purple-900/20 border border-purple-600/30 rounded-lg p-4 mb-4">
                        <p class="text-purple-200 text-sm font-medium">
                            💡 SMBus = I²C + Stricter Rules + Enhanced Features
                        </p>
                    </div>

                    <p class="text-gray-300 leading-relaxed mb-4">
                        At its core, SMBus is a <strong>subset of I²C but with more rigid rules</strong>. 
                        While I²C is a general-purpose protocol, SMBus adds specific, standardized features 
                        and constraints that make it more reliable and predictable.
                    </p>

                    <div class="bg-[#07101a] rounded-md p-4 mb-4">
                        <code class="text-sm text-gray-200">
                            <span class="text-green-400"># Install the smbus2 library</span><br/>
                            pip install smbus2<br/><br/>
                            
                            <span class="text-green-400"># Import and use</span><br/>
                            <span class="text-purple-400">import</span> smbus2<br/>
                            bus = smbus2.<span class="text-blue-400">SMBus</span>(1)  <span class="text-green-400"># Use I2C bus 1</span>
                        </code>
                    </div>
                </article>

                <article class="glow rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-3">SMBus vs I²C: Key Differences</h2>
                    
                    <div class="space-y-4">
                        <div class="step-box rounded-lg p-4">
                            <h3 class="smbus-accent font-semibold mb-2">1. Strict Timing Requirements</h3>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                SMBus specifies <strong>maximum and minimum clock speeds</strong> and timeouts 
                                for transactions. This makes it more predictable and reliable, especially for 
                                power-sensitive applications where devices might be in low-power states and slow to respond.
                            </p>
                        </div>

                        <div class="step-box rounded-lg p-4">
                            <h3 class="smbus-accent font-semibold mb-2">2. Packet Error Checking (PEC)</h3>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                This is a key difference. SMBus adds an <strong>optional one-byte CRC</strong> 
                                (Cyclic Redundancy Check) to the end of each transaction. This helps detect errors 
                                caused by noise on the bus - a feature that standard I²C lacks.
                            </p>
                        </div>

                        <div class="step-box rounded-lg p-4">
                            <h3 class="smbus-accent font-semibold mb-2">3. Host-Centric Behavior</h3>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                SMBus is designed for a <strong>single host</strong> (like a CPU or Baseboard Management Controller) 
                                to communicate with multiple slave devices (battery chargers, thermal sensors, fan controllers).
                            </p>
                        </div>

                        <div class="step-box rounded-lg p-4">
                            <h3 class="smbus-accent font-semibold mb-2">4. Defined Transaction Types</h3>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                SMBus defines specific transaction types and command formats, such as 
                                <strong>"Read Word"</strong> or <strong>"Write Byte"</strong>, which are implemented 
                                as convenience functions in libraries like smbus2.
                            </p>
                        </div>
                    </div>

                    <div class="bg-blue-900/20 border border-blue-600/30 rounded-lg p-4 mt-4">
                        <p class="text-blue-200 text-sm">
                            <strong>🔧 Bottom Line:</strong> When smbus2 says it's an "SMBus" library, 
                            it's handling both the I²C electrical signals AND the higher-level protocols 
                            for how data is framed on the I²C bus.
                        </p>
                    </div>
                </article>

                <article class="glow rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-3">Real-World Code Example</h2>
                    
                    <p class="text-gray-300 leading-relaxed mb-4">
                        Let's examine a common use case: reading from a sensor with I²C address 
                        <code>0x68</code> at register <code>0x00</code> using the smbus2 library.
                    </p>

                    <div class="bg-[#07101a] rounded-md p-4 mb-4">
                        <code class="text-sm text-gray-200">
                            <span class="text-purple-400">import</span> smbus2<br/><br/>
                            
                            address = <span class="text-orange-400">0x68</span>    <span class="text-green-400"># Device I2C address</span><br/>
                            register = <span class="text-orange-400">0x00</span>   <span class="text-green-400"># Register to read from</span><br/><br/>
                            
                            <span class="text-purple-400">with</span> smbus2.<span class="text-blue-400">SMBus</span>(1) <span class="text-purple-400">as</span> bus:<br/>
                            &nbsp;&nbsp;<span class="text-green-400"># Read a single byte from the specified register</span><br/>
                            &nbsp;&nbsp;data = bus.<span class="text-blue-400">read_byte_data</span>(address, register)<br/>
                            &nbsp;&nbsp;<span class="text-yellow-400">print</span>(<span class="text-orange-400">f"Data from register {register:#x} is {data:#x}"</span>)
                        </code>
                    </div>

                    <h3 class="smbus-accent text-lg font-medium mb-3">What Actually Happens: Step-by-Step Breakdown</h3>
                    <p class="text-gray-300 leading-relaxed mb-4">
                        Here's a detailed breakdown of what the <code>bus.read_byte_data(address, register)</code> 
                        call actually does on the I²C bus:
                    </p>
                </article>

                <article class="glow rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-3">Detailed Transaction Breakdown</h2>
                    
                    <div class="space-y-4">
                        <div class="bg-[#161b22] rounded-lg p-4 border-l-4 border-purple-500">
                            <h4 class="smbus-accent font-semibold mb-2">Step 1: Start Condition</h4>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                The smbus2 library triggers the I²C driver to pull the <strong>SDA line low 
                                while SCL is high</strong>. This signals the beginning of a new transaction 
                                to all devices on the bus.
                            </p>
                        </div>

                        <div class="bg-[#161b22] rounded-lg p-4 border-l-4 border-purple-500">
                            <h4 class="smbus-accent font-semibold mb-2">Step 2: Send Address (Write Mode)</h4>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                The driver sends the <strong>7-bit slave address (0x68)</strong> followed by 
                                a <strong>"write" bit (0)</strong>. The sensor recognizes its address and pulls 
                                SDA low for one clock cycle to send an <strong>ACK (Acknowledge)</strong>.
                            </p>
                        </div>

                        <div class="bg-[#161b22] rounded-lg p-4 border-l-4 border-purple-500">
                            <h4 class="smbus-accent font-semibold mb-2">Step 3: Send Register Address</h4>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                The library sends the single byte <strong>0x00</strong> (the register address). 
                                The sensor's I²C logic receives this byte and sends another <strong>ACK</strong>. 
                                The sensor now knows which register you want to access.
                            </p>
                        </div>

                        <div class="bg-[#161b22] rounded-lg p-4 border-l-4 border-purple-500">
                            <h4 class="smbus-accent font-semibold mb-2">Step 4: Repeated Start</h4>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                Instead of a Stop Condition, smbus2 issues a <strong>Repeated Start</strong>. 
                                This crucial step keeps the transaction alive - SDA is pulled low while SCL is high again.
                            </p>
                        </div>

                        <div class="bg-[#161b22] rounded-lg p-4 border-l-4 border-purple-500">
                            <h4 class="smbus-accent font-semibold mb-2">Step 5: Send Address (Read Mode)</h4>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                The driver sends the same <strong>7-bit slave address (0x68)</strong> but 
                                this time with a <strong>"read" bit (1)</strong>. The sensor receives this and sends an ACK.
                            </p>
                        </div>

                        <div class="bg-[#161b22] rounded-lg p-4 border-l-4 border-purple-500">
                            <h4 class="smbus-accent font-semibold mb-2">Step 6: Receive Data</h4>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                The sensor transmits the data from register 0x00, <strong>one bit at a time</strong>. 
                                For each bit, the sensor controls SDA while the host provides SCL clock pulses. 
                                The host receives the byte and sends a <strong>NACK (No Acknowledge)</strong>, 
                                signaling the sensor to stop sending data.
                            </p>
                        </div>

                        <div class="bg-[#161b22] rounded-lg p-4 border-l-4 border-purple-500">
                            <h4 class="smbus-accent font-semibold mb-2">Step 7: Stop Condition</h4>
                            <p class="text-gray-300 text-sm leading-relaxed">
                                The transaction concludes with a <strong>Stop Condition</strong> (SDA high while SCL high), 
                                freeing up the bus for other devices.
                            </p>
                        </div>
                    </div>

                    <div class="bg-green-900/20 border border-green-600/30 rounded-lg p-4 mt-4">
                        <p class="text-green-200 text-sm">
                            <strong>🚀 The Magic:</strong> All these low-level steps are handled by the smbus2 library, 
                            which interacts directly with the Linux kernel's I²C driver. This abstraction lets you 
                            perform complex I²C transactions with a single line of Python code!
                        </p>
                    </div>
                </article>

                <article class="glow rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-3">SMBus Transaction Types</h2>
                    
                    <p class="text-gray-300 leading-relaxed mb-4">
                        SMBus defines standardized transaction types that are implemented as convenient 
                        methods in the smbus2 library:
                    </p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-[#161b22] rounded-lg p-4">
                            <h4 class="smbus-accent font-semibold mb-2">Read Operations</h4>
                            <div class="space-y-2 text-sm text-gray-300">
                                <div class="bg-[#07101a] rounded p-2">
                                    <code>bus.read_byte(address)</code>
                                </div>
                                <div class="bg-[#07101a] rounded p-2">
                                    <code>bus.read_byte_data(addr, reg)</code>
                                </div>
                                <div class="bg-[#07101a] rounded p-2">
                                    <code>bus.read_word_data(addr, reg)</code>
                                </div>
                                <div class="bg-[#07101a] rounded p-2">
                                    <code>bus.read_block_data(addr, reg)</code>
                                </div>
                            </div>
                        </div>

                        <div class="bg-[#161b22] rounded-lg p-4">
                            <h4 class="smbus-accent font-semibold mb-2">Write Operations</h4>
                            <div class="space-y-2 text-sm text-gray-300">
                                <div class="bg-[#07101a] rounded p-2">
                                    <code>bus.write_byte(address, value)</code>
                                </div>
                                <div class="bg-[#07101a] rounded p-2">
                                    <code>bus.write_byte_data(addr, reg, val)</code>
                                </div>
                                <div class="bg-[#07101a] rounded p-2">
                                    <code>bus.write_word_data(addr, reg, val)</code>
                                </div>
                                <div class="bg-[#07101a] rounded p-2">
                                    <code>bus.write_block_data(addr, reg, data)</code>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>

                <article class="glow rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-3">Practical Examples</h2>
                    
                    <h3 class="smbus-accent text-lg font-medium mb-3">Reading from an IMU Sensor</h3>
                    <div class="bg-[#07101a] rounded-md p-4 mb-4">
                        <code class="text-sm text-gray-200">
                            <span class="text-purple-400">import</span> smbus2<br/>
                            <span class="text-purple-4000">import</span> time<br/><br/>
                            
                            <span class="text-green-400"># MPU6050 IMU sensor</span><br/>
                            IMU_ADDRESS = <span class="text-orange-400">0x68</span><br/>
                            ACCEL_X_REG = <span class="text-orange-400">0x3B</span><br/><br/>
                            
                            <span class="text-purple-400">with</span> smbus2.<span class="text-blue-400">SMBus</span>(1) <span class="text-purple-400">as</span> bus:<br/>
                            &nbsp;&nbsp;<span class="text-green-400"># Wake up the sensor</span><br/>
                            &nbsp;&nbsp;bus.<span class="text-blue-400">write_byte_data</span>(IMU_ADDRESS, <span class="text-orange-400">0x6B</span>, <span class="text-orange-400">0</span>)<br/>
                            &nbsp;&nbsp;time.<span class="text-blue-400">sleep</span>(<span class="text-orange-400">0.1</span>)<br/><br/>
                            
                            &nbsp;&nbsp;<span class="text-green-400"># Read accelerometer X-axis (2 bytes)</span><br/>
                            &nbsp;&nbsp;accel_x = bus.<span class="text-blue-400">read_word_data</span>(IMU_ADDRESS, ACCEL_X_REG)<br/>
                            &nbsp;&nbsp;<span class="text-yellow-400">print</span>(<span class="text-orange-400">f"Accelerometer X: {accel_x}"</span>)
                        </code>
                    </div>

                    <h3 class="smbus-accent text-lg font-medium mb-3">Controlling a Motor Driver</h3>
                    <div class="bg-[#07101a] rounded-md p-4 mb-4">
                        <code class="text-sm text-gray-200">
                            <span class="text-purple-400">import</span> smbus2<br/><br/>
                            
                            <span class="text-green-400"># Hiwonder motor board</span><br/>
                            MOTOR_ADDRESS = <span class="text-orange-400">0x42</span><br/>
                            SPEED_COMMAND = <span class="text-orange-400">0x01</span><br/><br/>
                            
                            <span class="text-purple-400">def</span> <span class="text-yellow-400">set_motor_speed</span>(speed):<br/>
                            &nbsp;&nbsp;<span class="text-purple-400">with</span> smbus2.<span class="text-blue-400">SMBus</span>(1) <span class="text-purple-400">as</span> bus:<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="text-green-400"># Send speed command</span><br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;bus.<span class="text-blue-400">write_byte_data</span>(MOTOR_ADDRESS, SPEED_COMMAND, speed)<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="text-yellow-400">print</span>(<span class="text-orange-400">f"Motor speed set to {speed}"</span>)<br/><br/>
                            
                            <span class="text-green-400"># Set motor to 75% speed</span><br/>
                            <span class="text-yellow-400">set_motor_speed</span>(<span class="text-orange-400">150</span>)  <span class="text-green-400"># 0-200 range</span>
                        </code>
                    </div>
                </article>

                <article class="glow rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-3">Error Handling & Best Practices</h2>
                    
                    <h3 class="smbus-accent text-lg font-medium mb-3">Robust Error Handling</h3>
                    <div class="bg-[#07101a] rounded-md p-4 mb-4">
                        <code class="text-sm text-gray-200">
                            <span class="text-purple-400">import</span> smbus2<br/>
                            <span class="text-purple-400">import</span> time<br/><br/>
                            
                            <span class="text-purple-400">def</span> <span class="text-yellow-400">safe_read_sensor</span>(address, register, retries=<span class="text-orange-400">3</span>):<br/>
                            &nbsp;&nbsp;<span class="text-purple-400">for</span> attempt <span class="text-purple-400">in</span> <span class="text-blue-400">range</span>(retries):<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="text-purple-400">try</span>:<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-purple-400">with</span> smbus2.<span class="text-blue-400">SMBus</span>(1) <span class="text-purple-400">as</span> bus:<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data = bus.<span class="text-blue-400">read_byte_data</span>(address, register)<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-purple-400">return</span> data<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="text-purple-400">except</span> <span class="text-blue-400">OSError</span> <span class="text-purple-400">as</span> e:<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-yellow-400">print</span>(<span class="text-orange-400">f"I2C error on attempt {attempt + 1}: {e}"</span>)<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-purple-400">if</span> attempt &lt; retries - <span class="text-orange-400">1</span>:<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.<span class="text-blue-400">sleep</span>(<span class="text-orange-400">0.1</span>)  <span class="text-green-400"># Brief delay before retry</span><br/>
                            &nbsp;&nbsp;<span class="text-purple-400">return</span> <span class="text-blue-400">None</span>  <span class="text-green-400"># All retries failed</span>
                        </code>
                    </div>

                    <div class="space-y-3">
                        <div class="bg-[#161b22] rounded-lg p-4">
                            <h4 class="text-green-300 font-semibold mb-2">✅ Best Practices</h4>
                            <ul class="text-gray-300 text-sm space-y-1">
                                <li>• Use context managers (<code>with</code> statement) for automatic cleanup</li>
                                <li>• Implement retry logic for transient I²C errors</li>
                                <li>• Add delays between rapid transactions</li>
                                <li>• Check device datasheets for timing requirements</li>
                                <li>• Use appropriate SMBus transaction types (byte, word, block)</li>
                            </ul>
                        </div>

                        <div class="bg-[#161b22] rounded-lg p-4">
                            <h4 class="text-red-300 font-semibold mb-2">⚠️ Common Pitfalls</h4>
                            <ul class="text-gray-300 text-sm space-y-1">
                                <li>• Forgetting pull-up resistors on SDA/SCL lines</li>
                                <li>• Using wrong I²C bus number (check <code>/dev/i2c-*</code>)</li>
                                <li>• Not handling OSError exceptions</li>
                                <li>• Trying to access non-existent registers</li>
                                <li>• Insufficient permissions (need to be in <code>i2c</code> group)</li>
                            </ul>
                        </div>
                    </div>
                </article>

                <article class="glow rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-3">SMBus vs Raw I²C Comparison</h2>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b border-gray-600">
                                    <th class="text-left p-3 text-gray-300">Feature</th>
                                    <th class="text-left p-3 i2c-accent">Raw I²C</th>
                                    <th class="text-left p-3 smbus-accent">SMBus</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-300">
                                <tr class="border-b border-gray-700">
                                    <td class="p-3 font-medium">Timing</td>
                                    <td class="p-3">Flexible, implementation-dependent</td>
                                    <td class="p-3">Strict min/max timing requirements</td>
                                </tr>
                                <tr class="border-b border-gray-700">
                                    <td class="p-3 font-medium">Error Detection</td>
                                    <td class="p-3">Basic ACK/NACK only</td>
                                    <td class="p-3">Optional Packet Error Checking (PEC)</td>
                                </tr>
                                <tr class="border-b border-gray-700">
                                    <td class="p-3 font-medium">Transaction Types</td>
                                    <td class="p-3">Custom, varies by implementation</td>
                                    <td class="p-3">Standardized (byte, word, block)</td>
                                </tr>
                                <tr class="border-b border-gray-700">
                                    <td class="p-3 font-medium">Host Behavior</td>
                                    <td class="p-3">Multi-master possible</td>
                                    <td class="p-3">Single host, multiple slaves</td>
                                </tr>
                                <tr class="border-b border-gray-700">
                                    <td class="p-3 font-medium">Timeouts</td>
                                    <td class="p-3">Implementation-specific</td>
                                    <td class="p-3">Defined timeout periods</td>
                                </tr>
                                <tr class="border-b border-gray-700">
                                    <td class="p-3 font-medium">Power Management</td>
                                    <td class="p-3">Not specified</td>
                                    <td class="p-3">Designed for low-power devices</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </article>
            </section>

            <!-- Sidebar -->
            <aside class="space-y-6">
                <div class="glow rounded-lg p-4">
                    <h4 class="text-sm font-medium text-gray-200">SMBus Overview</h4>
                    <div class="mt-3 text-sm text-gray-300 space-y-2">
                        <div><strong>Protocol:</strong> I²C with enhanced features</div>
                        <div><strong>Library:</strong> smbus2 Python package</div>
                        <div><strong>Purpose:</strong> System management & control</div>
                        <div><strong>Key Benefit:</strong> Standardized transactions</div>
                    </div>
                </div>

                <div class="glow rounded-lg p-4">
                    <h4 class="text-sm font-medium text-gray-200">SMBus Enhancements</h4>
                    <ul class="mt-3 text-sm text-gray-300 space-y-1">
                        <li>• Strict timing requirements</li>
                        <li>• Packet Error Checking (PEC)</li>
                        <li>• Host-centric architecture</li>
                        <li>• Defined transaction types</li>
                        <li>• Power management features</li>
                    </ul>
                </div>

                <div class="glow rounded-lg p-4">
                    <h4 class="text-sm font-medium text-gray-200">Common Transaction Types</h4>
                    <ul class="mt-3 text-sm text-gray-300 space-y-1">
                        <li>• <code>read_byte_data()</code></li>
                        <li>• <code>write_byte_data()</code></li>
                        <li>• <code>read_word_data()</code></li>
                        <li>• <code>write_word_data()</code></li>
                        <li>• <code>read_block_data()</code></li>
                        <li>• <code>write_block_data()</code></li>
                    </ul>
                </div>

                <div class="glow rounded-lg p-4">
                    <h4 class="text-sm font-medium text-gray-200">Typical Applications</h4>
                    <div class="mt-3 text-sm text-gray-300 space-y-2">
                        <div><strong>Sensors:</strong> IMU, temperature, pressure</div>
                        <div><strong>Controllers:</strong> Motor drivers, servo boards</div>
                        <div><strong>System Mgmt:</strong> Battery chargers, fans</div>
                        <div><strong>Displays:</strong> OLED screens, LED matrices</div>
                    </div>
                </div>

                <div class="glow rounded-lg p-4">
                    <h4 class="text-sm font-medium text-gray-200">Installation & Setup</h4>
                    <div class="mt-3 text-xs text-gray-300">
                        <div class="bg-[#07101a] rounded p-2 mb-2">
                            <code>pip install smbus2</code>
                        </div>
                        <div>Enable I²C on Raspberry Pi:</div>
                        <div class="bg-[#07101a] rounded p-2 mt-1">
                            <code>sudo raspi-config</code>
                        </div>
                    </div>
                </div>

                <div class="glow rounded-lg p-4">
                    <h4 class="text-sm font-medium text-gray-200">Troubleshooting</h4>
                    <ul class="mt-3 text-sm text-gray-300 space-y-1">
                        <li>• Check I²C device with <code>i2cdetect</code></li>
                        <li>• Verify pull-up resistors (4.7kΩ)</li>
                        <li>• Ensure proper user permissions</li>
                        <li>• Add retry logic for reliability</li>
                        <li>• Check device datasheets</li>
                    </ul>
                </div>
            </aside>
        </div>

        <!-- Footer -->
        <footer class="mt-10 text-center text-sm text-gray-400">
            <p>
                SMBus protocol and smbus2 library notes by <strong>Aaron Horowitz</strong>.
            </p>
            <p class="mt-2">Bridging Python and embedded hardware communication.</p>
        </footer>
    </main>
    <script src="include_header.js" defer></script>
</body>
</html>